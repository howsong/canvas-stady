<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rectangular-矩形</title>
    <style>
      .canvas {
        background-color: orange;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="600" height="600" class="canvas"></canvas>
    <script>
      class CanvasCommand {
        constructor(canvasEl) {
          this.canvasEl = canvasEl;
          this.context = canvasEl.getContext("2d");
          this.setMenu = ["fillStyle", "strokeStyle", "lineWidth"];
        }
        drawByCommands(commands) {
          commands.forEach((item) => {
            const name = item[0];
            if (this.setMenu.includes(name)) {
              this.context[name] = item[1];
            } else {
              this.context[name](...item.slice(1));
            }
          });
        }
      }
      var canvas = document.getElementById("canvas");
      const cWithCommand = new CanvasCommand(canvas);
      cWithCommand.drawByCommands([
        ["fillStyle", "#000"],
        ["strokeStyle", "#f60"],
        ["lineWidth", "5"],
        ["fillRect", 0, 0, 400, 300],
        ["strokeRect", 50, 50, 180, 120],
        ["strokeRect", 110, 110, 180, 120]
      ]);
    </script>
  </body>
</html>
